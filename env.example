# AI Gateway 环境变量配置
# 复制此文件为 .env 并根据需要修改
# 
# 配置说明：
# - 开发环境：使用默认值即可
# - 生产环境：修改主机地址、域名等配置
# - 测试环境：可以调整缓存时间、超时时间等

# =============================================================================
# 数据库配置
# =============================================================================
DATABASE_URL=mysql+aiomysql://ai_gateway:ai_gateway_pass@mysql:3306/ai_gateway_config

# =============================================================================
# Redis配置
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# 服务配置
# =============================================================================
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# 监控配置
# =============================================================================
MONITORING_ENABLED=true
MONITORING_REFRESH_INTERVAL=30
CACHE_TTL_NAMESPACE=3600
CACHE_TTL_MATCHERS=1800
CACHE_TTL_RULES=1800
CACHE_TTL_UPSTREAM=3600

# =============================================================================
# Token服务配置
# =============================================================================
# 支持以下格式：
# - http://token-service:8000 (自动添加 /calculate)
# - http://token-service:8000/ (自动添加 calculate)
# - http://token-service:8000/calculate (完整URL)
TOKEN_SERVICE_URL=http://token-service:8000
USE_PRECISE_TOKEN_CALCULATION=true
TOKEN_CALCULATION_TIMEOUT=3000
TOKEN_CACHE_TTL=300

# =============================================================================
# Gateway配置
# =============================================================================
CONFIG_CENTER_URL=http://config-center:8000

# =============================================================================
# 前端配置
# =============================================================================
REACT_APP_API_BASE_URL=http://localhost:8001
REACT_APP_MONITORING_ENABLED=true
REACT_APP_MONITORING_REFRESH_INTERVAL=30000

# =============================================================================
# 环境配置说明
# =============================================================================
# 
# 开发环境配置（默认）：
# - 使用本地Docker服务名
# - 较短的缓存时间和刷新间隔
# - 适合快速开发和测试
# 
# 生产环境配置建议：
# - 修改主机地址为实际IP或域名
# - 增加缓存时间和超时时间
# - 调整日志级别为WARNING
# - 使用HTTPS和域名
# 
# 示例：
# DATABASE_URL=mysql+aiomysql://user:password@your-mysql-host:3306/ai_gateway_config
# REDIS_URL=redis://your-redis-host:6379/0
# TOKEN_SERVICE_URL=http://your-token-service:8000
# CONFIG_CENTER_URL=http://your-config-center:8000
# REACT_APP_API_BASE_URL=https://your-api-domain.com
# 
# 性能调优建议：
# - 增加缓存时间：CACHE_TTL_*=7200, TOKEN_CACHE_TTL=600
# - 增加超时时间：TOKEN_CALCULATION_TIMEOUT=5000
# - 减少刷新频率：MONITORING_REFRESH_INTERVAL=60
# - 关闭调试：DEBUG=false, LOG_LEVEL=WARNING 